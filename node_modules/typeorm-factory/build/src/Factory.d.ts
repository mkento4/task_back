import { AssocManyAttribute } from './AssocManyAttribute';
import { AssocOneAttribute } from './AssocOneAttribute';
import { FactoryAttribute } from './FactoryAttribute';
import { Sequence } from './Sequence';
/**
 * Interface for a class
 */
export interface IConstructable<T> {
    new (): T;
}
/**
 * Attribute type
 */
export declare type Attr<U> = [keyof U, Sequence<U[keyof U]> | AssocManyAttribute<any> | AssocOneAttribute<U[keyof U]> | FactoryAttribute<any>];
export declare type Attrs<U> = Array<Attr<U>>;
/**
 * Factory defines attributes, sequences and associations for an Entity
 */
export declare class Factory<T> {
    /**
     * typeorm Entity class
     */
    Entity: IConstructable<T>;
    /**
     * array of attributes generators
     */
    attrs: Attrs<T>;
    private privateRepository;
    /** constructor */
    constructor(Entity: IConstructable<T>, attrs?: Attrs<T>);
    private readonly repository;
    /**
     * Clones current factory definition
     */
    clone(): Factory<T>;
    /**
     * sequence generator
     */
    sequence<K extends keyof T>(name: K, sequenceFunction: (i: number) => T[K]): Factory<T>;
    /**
     * attribute generator
     */
    attr<K extends keyof T>(name: K, value: T[K]): Factory<T>;
    /**
     * association generator for one hasMany
     */
    assocMany<K extends keyof T>(name: K, factory: Factory<any>, size?: number): Factory<T>;
    /**
     * association generator for one hasMany
     */
    assocOne<K extends keyof T>(name: K, factory: Factory<T[K]>): Factory<T>;
    /**
     * builds an instance of Entity
     */
    build(attributes?: Partial<T>): T;
    /**
     * builds a list instances of Entity
     */
    buildList(size: number): T[];
    /**
     * creates an Entity
     */
    create(attributes?: Partial<T>): Promise<T>;
    /**
     * creates a list of Entities
     */
    createList(size: number): Promise<T[]>;
    private assignAttrs;
    private assignAsyncAttrs;
}
